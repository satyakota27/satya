files:
  "/opt/elasticbeanstalk/hooks/appdeploy/pre/01_asset_compilation.sh":
    mode: "000755"
    owner: root
    group: root
    content: |
      #!/bin/bash
      # Compile assets before deployment
      cd /var/app/ondeck
      
      # Install Node.js dependencies
      npm install
      
      # Build JavaScript assets
      npm run build
      
      # Build CSS assets
      npm run build:css
      
      # Precompile Rails assets
      bundle exec rake assets:precompile RAILS_ENV=production

